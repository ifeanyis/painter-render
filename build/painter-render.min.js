/*!
*  @license painter-render v0.0.0next
* (c) 2019 yelloxing git+https://github.com/yelloxing/painter-render.git
* License: MIT
*/

!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t():e.painterRender=t()}("undefined"!=typeof window?window:this,function(e){"use strict";var c=function(e){return e&&e.constructor===CanvasRenderingContext2D?e:e&&e.getContext("2d")};return function(e){var t=function(){};return t.layer=function(e,n,r){var o,u;c(e);"number"!=typeof n&&(n=e.clientWidth),"number"!=typeof r&&(r=e.clientHeight);var a={},i={addLayer:function(e){if(a[e])throw new Error("Layer ["+e+"] already exists!");var t={canvas:document.createElement("canvas"),pre:null,next:null};return t.canvas.setAttribute("width",n),t.canvas.setAttribute("height",r),t.painter=c(t.canvas),a[e]=t,o||u?(a[e].pre=u,a[u].next=e,u=e):o=u=e,i},seeLayer:function(e){return a[e]||{top:u,bottom:o,layers:a}},delLayer:function(e){var t=a[e];return t&&(u==e&&(u=t.pre),o==e&&(o=t.next),null!=t.pre&&(a[t.pre].next=t.next),null!=t.next&&(a[t.next].pre=t.pre)),delete a[e],i}};return i}(e),t}});